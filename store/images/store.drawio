<mxfile host="Electron" modified="2025-01-13T12:37:20.723Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/24.2.5 Chrome/120.0.6099.109 Electron/28.1.0 Safari/537.36" etag="SeQtMGiwFSxSnVeFj5s5" version="24.2.5" type="device">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="3830" dy="1528" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="XBSL91Ods1MIYvRzKRsr-0" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Class Store&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;font color=&quot;#0000ff&quot;&gt;// torch/csrc/distributed/c10d/Store.hpp&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ std::chrono::milliseconds timeout_;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ static milliseconds kDefaultTimeout = 300;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ static milliseconds kNoTimeout = zeor();&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ void set(string&amp;amp; key, string&amp;amp; value);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ string compareSet(string&amp;amp; key, string&amp;amp; current_value, string&amp;amp; new_value);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual std::vector&amp;lt;uint8_t&amp;gt; get(const string&amp;amp; key) = 0;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual int64_t &lt;font color=&quot;#0000ff&quot;&gt;add&lt;/font&gt;(string&amp;amp; key, int64_t value) = 0;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual bool deleteKey(string&amp;amp; key) = 0;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual bool check(vector&amp;lt;string&amp;gt;&amp;amp; keys) = 0;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual int64_t getNumKeys() = 0;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual void &lt;font color=&quot;#0000ff&quot;&gt;wait&lt;/font&gt;(vector&amp;lt;string&amp;gt;&amp;amp;) keys = 0;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual void watchKey();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual void append(string&amp;amp; key, vector&amp;lt;uint8_t&amp;gt;value);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual vector&amp;lt;vector&amp;lt;uint8_t&amp;gt;&amp;gt; multiGet(vector&amp;lt;string&amp;gt;);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual void multiset(vector&amp;lt;string&amp;gt;&amp;amp; keys, vector&amp;lt;vector&amp;lt;uint8_t&amp;gt;&amp;gt;) values;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual bool hasExtendedApi();&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="77.5" y="917" width="421" height="300" as="geometry" />
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-1" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Class TCPStore&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;font color=&quot;#0000ff&quot;&gt;// torch/csrc/distributed/c10d/TCPStore.hpp&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ detail::SocketAddress &lt;font color=&quot;#0000ff&quot;&gt;addr_&lt;/font&gt;;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ shared_ptr&amp;lt;TCPServer&amp;gt; &lt;font color=&quot;#0000ff&quot;&gt;server_&lt;/font&gt;;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ unique_ptr&amp;lt;TCPClient&amp;gt; &lt;font color=&quot;#0000ff&quot;&gt;client_&lt;/font&gt;;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ optional&amp;lt;std::size_t&amp;gt; &lt;font color=&quot;#0000ff&quot;&gt;numWorkers_&lt;/font&gt;;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ const string initKey_ = &quot;init/&quot;;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ const string keyPrefix_ = &quot;/&quot;;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ std::mutex activeOpLock_;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ bool usingLibv_ = ture;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ void set(string&amp;amp; key, string&amp;amp; value);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ string compareSet(string&amp;amp; key, string&amp;amp; current_value, string&amp;amp; new_value);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual std::vector&amp;lt;uint8_t&amp;gt; get(const string&amp;amp; key) override;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual int64_t &lt;font color=&quot;#0000ff&quot;&gt;add&lt;/font&gt;(string&amp;amp; key, int64_t value) override;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual bool deleteKey(string&amp;amp; key) override;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual bool check(vector&amp;lt;string&amp;gt;&amp;amp; keys) override;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual int64_t getNumKeys() override;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual void &lt;font color=&quot;#0000ff&quot;&gt;wait&lt;/font&gt;(vector&amp;lt;string&amp;gt;&amp;amp; keys) override ;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual void watchKey();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual void append(string&amp;amp; key, vector&amp;lt;uint8_t&amp;gt;value);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual vector&amp;lt;vector&amp;lt;uint8_t&amp;gt;&amp;gt; multiGet(vector&amp;lt;string&amp;gt;);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual void multiset(vector&amp;lt;string&amp;gt;&amp;amp; keys, vector&amp;lt;vector&amp;lt;uint8_t&amp;gt;&amp;gt;) values;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ virtual bool hasExtendedApi();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ void waitForWorkers();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ uint16_t getPort();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ int64_t incrementValueBy(key, delta)&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ void ping();&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ void validate();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ vector&amp;lt;uint8_t&amp;gt; doWait(keys, timeout);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="73" y="365" width="430" height="455" as="geometry" />
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-2" value="&lt;div style=&quot;color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;struct&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;SocketAddress&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;std&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;::string host{};&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;std&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;uint16_t&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; port{};&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="650" y="240" width="188" height="83" as="geometry" />
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-3" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Class &lt;font color=&quot;#ff0000&quot;&gt;TCPServer&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ uint16_t port_;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ unique_ptr&amp;lt;BackgroundThread&amp;gt; daemon_;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ unordered_map&amp;lt;uint16_t, weak_ptr&amp;lt;TCPServer&amp;gt;&amp;gt; cachedServers_;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ static std::mutex cache_mutex;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ static shared_ptr&amp;lt;TCPServer&amp;gt; start(const &lt;font color=&quot;#0000ff&quot;&gt;TCPStoreOptions&lt;/font&gt;&amp;amp; opts);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ explicit TCPServer(uint16_t port, daemon);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ uint16_t port();&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="650" y="358" width="390" height="150" as="geometry" />
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-4" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1.004;exitY=0.06;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" target="XBSL91Ods1MIYvRzKRsr-3">
          <mxGeometry x="-1" y="3" relative="1" as="geometry">
            <mxPoint x="504.7199999999998" y="433.29999999999995" as="sourcePoint" />
            <mxPoint x="790" y="563" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-5" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Class &lt;font color=&quot;#ff0000&quot;&gt;TCPClient&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ &lt;font color=&quot;#ff0000&quot;&gt;Socket &lt;/font&gt;socket_;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ static unique_ptr&amp;lt;TCPClient&amp;gt; connect(&lt;font color=&quot;#0000ff&quot;&gt;SocketAddress&amp;amp;, TCPStoreOptions&amp;amp;, Backoff&lt;/font&gt;)&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ void &lt;font color=&quot;#0000ff&quot;&gt;sendRaw&lt;/font&gt;(uint8_t* data, size_t length);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ vector&amp;lt;uint8_t&amp;gt; &lt;font color=&quot;#0000ff&quot;&gt;receiveBits&lt;/font&gt;();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ template &amp;lt;typename T&amp;gt; T &lt;font color=&quot;#0000ff&quot;&gt;receiveValue&lt;/font&gt;();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ template &amp;lt;typename T&amp;gt; bool &lt;font color=&quot;#0000ff&quot;&gt;receiveValueWithTimeout&lt;/font&gt;();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ void &lt;font color=&quot;#0000ff&quot;&gt;setTimeout&lt;/font&gt;(std::chrono::millseconds value);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ explicit &lt;font color=&quot;#ff0000&quot;&gt;TCPClient&lt;/font&gt;(Socket&amp;amp;&amp;amp; socket);&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="650" y="545" width="480" height="165" as="geometry" />
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-6" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1.001;exitY=0.309;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="XBSL91Ods1MIYvRzKRsr-1" target="XBSL91Ods1MIYvRzKRsr-5">
          <mxGeometry x="-1" y="3" relative="1" as="geometry">
            <mxPoint x="500" y="506" as="sourcePoint" />
            <mxPoint x="690" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-7" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Class &lt;font color=&quot;#ff0000&quot;&gt;Socket&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ &lt;font color=&quot;#000033&quot;&gt;unique_ptr&amp;lt;&lt;/font&gt;&lt;font color=&quot;#0000ff&quot;&gt;SocketImpl&lt;/font&gt;&lt;font color=&quot;#000033&quot;&gt;&amp;gt; impl_;&lt;/font&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ static void initialize(); // 初始化 socket library，最先被调用&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ static Socket listen(port, &lt;font color=&quot;#0000ff&quot;&gt;SocketOptions&lt;/font&gt;&amp;amp;);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ static Socket listenFromFd(int fd, expected_port);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ static Socket connect(string host, port, SocketOptions);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ Socket accept();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ int handle();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ uint16_6 port();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ bool waitForInput(timeout);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="602" y="803" width="336" height="180" as="geometry" />
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-8" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Class &lt;font color=&quot;#ff0000&quot;&gt;SocketImpl&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ &lt;font color=&quot;#000033&quot;&gt;Handle/int&amp;nbsp; hnd_;&lt;/font&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;font color=&quot;#000033&quot;&gt;+ optional&amp;lt;string&amp;gt; remote_;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;font color=&quot;#000033&quot;&gt;+ static constexpr Handle invalid_socket = -1;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ unique_ptr&amp;lt;&lt;font color=&quot;#0000ff&quot;&gt;SocketImpl&lt;/font&gt;&amp;gt; accept();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ void closeOnExec();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ enableNonBlocking();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ disableNonBlocking();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ bool enableNoDelay();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ bool enableDualStack();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ enableAddressReuse();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ uint16_t getPort();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ Handle handle() return hnd_;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ string&amp;amp; remote(); return remote_;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ bool waitForInput()&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ bool setSocketFlag(level, optname, value);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1043" y="761.5" width="336" height="263" as="geometry" />
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-9" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Class &lt;font color=&quot;#ff0000&quot;&gt;SocketOptions&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ &lt;font color=&quot;#000033&quot;&gt;bool prefer_ipv6_ = true;&lt;/font&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;font color=&quot;#000033&quot;&gt;+ milliseconds connect_timeout_ = 30;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;font color=&quot;#000033&quot;&gt;+ shared_ptr&amp;lt;Backoff&amp;gt; connect_backoff_ = make_shared&amp;lt;FixedBackoff&amp;gt;(30)&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ SocketOptions&amp;amp; prefer_ipv6(int value);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ bool prefer_ipv6() return prefer_ipv6_;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ SocketOptions&amp;amp; connect_timeout(value);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ milliseconds connect_timeout();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ SocketOptions&amp;amp; connect_backoff(Backoff value);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="557" y="1057" width="428" height="160" as="geometry" />
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-10" value="Use" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="XBSL91Ods1MIYvRzKRsr-7" target="XBSL91Ods1MIYvRzKRsr-9">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="743" y="1037" as="sourcePoint" />
            <mxPoint x="903" y="1037" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-11" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="XBSL91Ods1MIYvRzKRsr-7" target="XBSL91Ods1MIYvRzKRsr-8">
          <mxGeometry x="-1" y="3" relative="1" as="geometry">
            <mxPoint x="863" y="915" as="sourcePoint" />
            <mxPoint x="533" y="925" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-12" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Class &lt;font color=&quot;#ff0000&quot;&gt;TCPStoreOptions&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&amp;nbsp;+ static constexpr uint16_t &lt;font color=&quot;#0000ff&quot;&gt;kDefaultPort &lt;/font&gt;=&lt;font color=&quot;#ff00ff&quot;&gt; 29500&lt;/font&gt;&lt;br&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ uint16_t port = kDefaultPort;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ bool isServer = false;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ optional&amp;lt;size_t&amp;gt; numWorkers = std::nullopt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ bool waitWorkers = true;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ milliseconds timeout = Store::kDefaultTimeout;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ bool multTenant = false; // 是否可以用相同的主机:端口对初始化多个Store&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ option&amp;lt;int&amp;gt; masterListenFd&amp;nbsp; = std::nullopt; // 避免端口相互竞争&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ bool useLibUV = true; // 是否使用LibUV 作为其后端I/O 库&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1240" y="400" width="410" height="170" as="geometry" />
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-13" value="Use" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="XBSL91Ods1MIYvRzKRsr-3" target="XBSL91Ods1MIYvRzKRsr-12">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1060" y="430" as="sourcePoint" />
            <mxPoint x="1220" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-14" value="Use" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="XBSL91Ods1MIYvRzKRsr-5" target="XBSL91Ods1MIYvRzKRsr-12">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1050" y="452" as="sourcePoint" />
            <mxPoint x="1230" y="353" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-15" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1.008;exitY=0.062;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="XBSL91Ods1MIYvRzKRsr-1" target="XBSL91Ods1MIYvRzKRsr-2">
          <mxGeometry x="-1" y="3" relative="1" as="geometry">
            <mxPoint x="520" y="300" as="sourcePoint" />
            <mxPoint x="680" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-16" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="XBSL91Ods1MIYvRzKRsr-5" target="XBSL91Ods1MIYvRzKRsr-7">
          <mxGeometry x="-1" y="3" relative="1" as="geometry">
            <mxPoint x="960" y="790" as="sourcePoint" />
            <mxPoint x="1120" y="790" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-17" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Class &lt;font color=&quot;#ff0000&quot;&gt;SocketListenOp&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;std&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;::string port_;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;SocketOptions* opts_;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;std&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;::vector&amp;lt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;std&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;::string&amp;gt; errors_{};&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;std&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;::unique_ptr&amp;lt;SocketImpl&amp;gt; socket_{};&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;&amp;nbsp;std&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;unique_ptr&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;SocketImpl&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(220, 220, 170);&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;bool&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(220, 220, 170);&quot;&gt;tryListen&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(156, 220, 254);&quot;&gt;family&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;bool&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(220, 220, 170);&quot;&gt;tryListen&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;::&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;addrinfo&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(156, 220, 254);&quot;&gt;addr&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&amp;nbsp; void&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; color: rgb(220, 220, 170);&quot;&gt;recordError&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; color: rgb(156, 220, 254);&quot;&gt;format&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; color: rgb(78, 201, 176);&quot;&gt;Args&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; color: rgb(86, 156, 214);&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;...&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; color: rgb(156, 220, 254);&quot;&gt;args&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1480" y="738" width="336" height="178.5" as="geometry" />
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-18" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Class &lt;font color=&quot;#ff0000&quot;&gt;SocketConnectOp&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(30, 30, 30);&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30, 30, 30); color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30, 30, 30);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(30, 30, 30); color: rgb(86, 156, 214);&quot;&gt;char&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30, 30, 30);&quot;&gt;* host_;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;std&lt;/span&gt;::string port_;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;color: #569cd6;&quot;&gt;const&lt;/span&gt; SocketOptions* opts_;&lt;/div&gt;&lt;div&gt;&amp;nbsp; TimePoint deadline_{};&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;std&lt;/span&gt;::vector&amp;lt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;std&lt;/span&gt;::string&amp;gt; errors_{};&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;std&lt;/span&gt;::unique_ptr&amp;lt;SocketImpl&amp;gt; socket_{};&lt;/div&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;std&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;unique_ptr&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;SocketImpl&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(220, 220, 170);&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;bool&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(220, 220, 170);&quot;&gt;tryConnect&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(156, 220, 254);&quot;&gt;family&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;ConnectResult&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(220, 220, 170);&quot;&gt;tryConnect&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;::&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;addrinfo&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(156, 220, 254);&quot;&gt;addr&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;ConnectResult&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(220, 220, 170);&quot;&gt;tryConnectCore&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;::&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;addrinfo&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(156, 220, 254);&quot;&gt;addr&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp; [[&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;noreturn&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;]]&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(220, 220, 170);&quot;&gt;throwTimeoutError&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;()&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;template&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;typename&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;...&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;Args&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(106, 153, 85); background-color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp; // NOLINTNEXTLINE(cppcoreguidelines-missing-std-forward)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(220, 220, 170);&quot;&gt;recordError&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;fmt&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;string_view&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(156, 220, 254);&quot;&gt;format&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(78, 201, 176);&quot;&gt;Args&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(86, 156, 214);&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;...&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(156, 220, 254);&quot;&gt;args&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(212, 212, 212); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;/div&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1477" y="970" width="470" height="297" as="geometry" />
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-19" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="XBSL91Ods1MIYvRzKRsr-18" target="XBSL91Ods1MIYvRzKRsr-8">
          <mxGeometry x="-0.8547" y="-11" relative="1" as="geometry">
            <mxPoint x="1137" y="1070" as="sourcePoint" />
            <mxPoint x="1297" y="1070" as="targetPoint" />
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-20" value="Use" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="XBSL91Ods1MIYvRzKRsr-17" target="XBSL91Ods1MIYvRzKRsr-8">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1287" y="910" as="sourcePoint" />
            <mxPoint x="1447" y="910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-21" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="XBSL91Ods1MIYvRzKRsr-1" target="XBSL91Ods1MIYvRzKRsr-0">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="290" y="860" as="sourcePoint" />
            <mxPoint x="450" y="860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-22" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Class FileStore&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ string &lt;font color=&quot;#0000ff&quot;&gt;path_&lt;/font&gt;;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ off_t &lt;font color=&quot;#0000ff&quot;&gt;pos_&lt;/font&gt;{0}; // 从文件开始到某个位置的字节数&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ int &lt;font color=&quot;#0000ff&quot;&gt;numWorkers_&lt;/font&gt;;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ string cleanupKey_;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ string refCountKey_;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ string regularPrefix_;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ string deletePrefix_;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;/p&gt;&amp;nbsp;+ unordered_map&amp;lt;string, vector&amp;lt;uint8_t&amp;gt;&amp;gt; &lt;font color=&quot;#0000ff&quot;&gt;cache_&lt;/font&gt;;&lt;br&gt;&amp;nbsp;+ std::mutex activeFileOpLock_;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ explicit FileStore(string path, numWorkers);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ void &lt;font color=&quot;#0000ff&quot;&gt;set&lt;/font&gt;(string&amp;amp; key, vector&amp;lt;uint8_t&amp;gt; value);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ vector&amp;lt;uint8_t&amp;gt; compareSet(key, expectedValue, desiredValue);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ vector&amp;lt;uint8_t&amp;gt; &lt;font color=&quot;#0000ff&quot;&gt;get&lt;/font&gt;(const string&amp;amp; key);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ int64_t add(string&amp;amp; key, int64_t value);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ int64_t getNumKeys()&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ bool deleteKey(string key);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ bool check(vector&amp;lt;string&amp;gt;&amp;amp; keys);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ bool wait(vector&amp;lt;string&amp;gt;&amp;amp; keys);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ void wait(vector&amp;lt;string&amp;gt;&amp;amp; keys, timeout);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ const string&amp;amp; getPath();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ int64_t addHelper(string key, int64_t i);&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-400" y="900" width="370" height="353" as="geometry" />
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-23" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.005;entryY=0.528;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="XBSL91Ods1MIYvRzKRsr-22" target="XBSL91Ods1MIYvRzKRsr-0">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-40" y="1110" as="sourcePoint" />
            <mxPoint x="120" y="1110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-24" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Class PrefixStore&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ string &lt;font color=&quot;#0000ff&quot;&gt;prefix_;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;font color=&quot;#0000ff&quot;&gt;+ intrusive_ptr&amp;lt;Store&amp;gt; store_;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ explicit FileStore(string prefix, intrusive_ptr&amp;lt;Store&amp;gt;);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;font color=&quot;#0000ff&quot;&gt;+ ... override Store base class&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;font color=&quot;#0000ff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ intrusive_ptr&amp;lt;Store&amp;gt; getUnderlyingStore();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ intrusive_ptr&amp;lt;Store&amp;gt; getUnderlyingNonPrefixStore();&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ string joinKey(const string&amp;amp; key);&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ vector&amp;lt;string&amp;gt; joinKeys(vector&amp;lt;string&amp;gt;&amp;amp;) keys;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-100" y="1370" width="300" height="210" as="geometry" />
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-25" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="XBSL91Ods1MIYvRzKRsr-24" target="XBSL91Ods1MIYvRzKRsr-0">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="140" y="1320" as="sourcePoint" />
            <mxPoint x="300" y="1320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-26" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Class HashStore&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ unordered_map&amp;lt;string, vector&amp;lt;uint8_t&amp;gt;&amp;gt; map_;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+ std::condition_variable cv_;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 255); background-color: initial;&quot;&gt;+ ... override Store base class&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="280" y="1370" width="290" height="100" as="geometry" />
        </mxCell>
        <mxCell id="XBSL91Ods1MIYvRzKRsr-27" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="XBSL91Ods1MIYvRzKRsr-26" target="XBSL91Ods1MIYvRzKRsr-0">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="530" y="1330" as="sourcePoint" />
            <mxPoint x="690" y="1330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
